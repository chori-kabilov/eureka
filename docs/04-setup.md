# 04 — Setup & Runbook (MVP)

Документ описывает, как CRM EUREKA:
- разворачивается,
- настраивается,
- используется в реальном учебном центре,
- поддерживается после запуска.

Без привязки к конкретному языку или фреймворку.

---

## 1. Общие требования к системе

### Минимальные требования (MVP)
- веб-приложение (desktop-first);
- доступ через браузер;
- единая база данных;
- авторизация по логину и паролю;
- один инстанс приложения.

### Не требуется в MVP
- мобильное приложение;
- офлайн-режим;
- высокая доступность;
- балансировка нагрузки;
- микросервисы.

---

## 2. Окружения

В MVP используется **два окружения**:

### 2.1 Development
Используется разработчиком.

Назначение:
- локальная разработка;
- тестирование логики;
- проверка сценариев из `03-flows.md`.

---

### 2.2 Production
Используется учебным центром.

Назначение:
- ежедневная работа администраторов;
- работа преподавателей и студентов;
- хранение реальных данных.

---

## 3. Начальная инициализация системы

После первого запуска система считается пустой.

### Обязательные шаги:
1. Создать администратора (root).
2. Заполнить справочники:
   - курсы
   - преподаватели
3. Создать первые группы.
4. Задать расписание групп.
5. Добавить студентов.

Без выполнения этих шагов система считается **не готовой к использованию**.

---

## 4. Конфигурация (логическая)

### Настройки, обязательные для MVP:
- название учебного центра;
- часовой пояс;
- формат дат и времени;
- рабочие дни недели.

### Настройки, отсутствующие в MVP:
- валюты (одна валюта по умолчанию);
- локализация;
- шаблоны документов;
- пользовательские поля.

---

## 5. Управление пользователями

### Создание пользователей
- администратор создаёт всех пользователей;
- саморегистрация отключена.

### Доступы
- роль назначается при создании пользователя;
- роли динамические:
  - administrator
  - teacher
  - student
  - parent
  - и другие, если надо

Изменение роли после создания — только администратором.

---

## 6. Работа с данными

### Ввод данных
- данные вводятся вручную через интерфейс;
- массовый импорт (Excel/CSV) — **не входит в MVP**.

### Редактирование
- изменение данных влияет только на будущие уроки;
- исторические данные не пересчитываются автоматически.

---

## 7. Резервное копирование (обязательно)

### MVP-правило:
- резервная копия базы данных **1 раз в сутки**.

Ответственность:
- разработчик / администратор системы.

Хранение:
- минимум 7 последних копий.

---

## 8. Поддержка и эксплуатация

### Типичные операционные задачи:
- добавление нового студента;
- перенос урока;
- замена преподавателя;
- фиксация оплаты;
- закрытие группы.

Все эти задачи **обязаны выполняться без участия разработчика**.

---

## 9. Обновления системы

### Принцип обновлений:
- обновления редкие;
- только после тестирования в development;
- без изменения доменной логики MVP.

### Запрещено:
- менять правила курсов “на лету”;
- пересчитывать старые уроки;
- добавлять новые сущности без обновления документации.

---

## 10. Ошибки и инциденты

### В MVP:
- нет автоматического логирования инцидентов;
- ошибки фиксируются вручную.

Процесс:
1. ошибка обнаружена пользователем;
2. администратор описывает проблему;
3. разработчик воспроизводит сценарий;
4. исправление выпускается отдельным обновлением.

---

## 11. Критерий «Система в продакшене»

Система считается успешно внедрённой, если:
- администратор использует её ежедневно;
- расписание и уроки ведутся только в системе;
- посещаемость фиксируется преподавателями;
- оплаты не дублируются в таблицах.

---
